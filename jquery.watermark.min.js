(function(a){a.watermarker=function(){};a.extend(a.watermarker,{defaults:{color:"#999",left:4},setDefaults:function(b){a.extend(a.watermarker.defaults,b)},checkVal:function(c,b){if(c==""){a(b).show()}else{a(b).hide()}}});a.fn.watermark=function(e,d){var c,b;c=a.extend(a.watermarker.defaults,d);b=this.filter("input[type=text], input[type=password], textarea");b.each(function(){var g,l,j,h,i,m,k,f;g=a(this);l=g.attr("placeholder")!=undefined&&g.attr("placeholder")!=""?"placeholder":"title";j=e===undefined?a(this).attr(l):e;h=a('<span class="watermark_container"></span>');i=a('<span class="watermark">'+j+"</span>");if(l=="placeholder"){g.removeAttr("placeholder")}h.css({"float":g.css("float"),position:"relative"});g.wrap(h);if(this.nodeName!="TEXTAREA"){f=g.outerHeight();k="50%"}else{m=g.position();k=m.top+parseInt(g.css("padding-top"))+parseInt(g.css("margin-top"))+parseInt(g.css("border-top-width"));f=g.css("line-height")}a.watermarker.checkVal(g.val(),i);i.css({position:"absolute",fontFamily:g.css("font-family"),fontSize:g.css("font-size"),color:c.color,left:c.left,right:0,bottom:0,top:k,height:f+"px",lineHeight:f+"px",marginTop:"-"+(f/2)+"px",marginLeft:parseInt(g.css("margin-left"))+parseInt(g.css("padding-left"))}).data("jq_watermark_element",g);i.click(function(){a(a(this).data("jq_watermark_element")).focus()});g.before(i).focus(function(){a.watermarker.checkVal(a(this).val(),i);i.animate({opacity:0.7},250)}).blur(function(){a.watermarker.checkVal(a(this).val(),i);i.animate({opacity:1},250)}).keydown(function(n){a(i).hide()})});return this};a(document).ready(function(){a(".jq_watermark").watermark()})})(jQuery);